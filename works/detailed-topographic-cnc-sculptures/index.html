<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Victor Bitca">
<meta name="description" content="Mount St. Helens hillshade
This article might get too technical in places with all the CNC, CAM, CAD, GIS terminology. To spare your time here&amp;rsquo;s the TLDR:
TLDR More than 6 month ago something clicked and I got all enthusiastic about maps and topography. 2D renders were all nice and cool but real 3D topographic sculpts would really elevate the data to a higher level.
Turns out it&amp;rsquo;s hard to make detailed models and there are quite a few reasons why nobody (at least documented online) seems to have a solid working process or a comercial product that isn&amp;rsquo;t just a 2D print." />
<meta name="keywords" content=", CNC, CAD, topography, python" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://3am.engineering/works/detailed-topographic-cnc-sculptures/" />


    <title>
        
            Ultra Detailed Topographic CNC Carvings :: 3am engineering 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.5bfb908ea0e9e0fa4f7e8016a36896c5e4f71b49cc913f137c1c0f6b4dda0525.css">




<meta itemprop="name" content="Ultra Detailed Topographic CNC Carvings">
<meta itemprop="description" content="Mount St. Helens hillshade
This article might get too technical in places with all the CNC, CAM, CAD, GIS terminology. To spare your time here&rsquo;s the TLDR:
TLDR More than 6 month ago something clicked and I got all enthusiastic about maps and topography. 2D renders were all nice and cool but real 3D topographic sculpts would really elevate the data to a higher level.
Turns out it&rsquo;s hard to make detailed models and there are quite a few reasons why nobody (at least documented online) seems to have a solid working process or a comercial product that isn&rsquo;t just a 2D print."><meta itemprop="datePublished" content="2022-03-27T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-03-27T00:00:00+00:00" />
<meta itemprop="wordCount" content="1264">
<meta itemprop="keywords" content="CNC,CAD,topography,python," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ultra Detailed Topographic CNC Carvings"/>
<meta name="twitter:description" content="Mount St. Helens hillshade
This article might get too technical in places with all the CNC, CAM, CAD, GIS terminology. To spare your time here&rsquo;s the TLDR:
TLDR More than 6 month ago something clicked and I got all enthusiastic about maps and topography. 2D renders were all nice and cool but real 3D topographic sculpts would really elevate the data to a higher level.
Turns out it&rsquo;s hard to make detailed models and there are quite a few reasons why nobody (at least documented online) seems to have a solid working process or a comercial product that isn&rsquo;t just a 2D print."/>





    <meta property="article:published_time" content="2022-03-27 00:00:00 &#43;0000 UTC" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__text">3am engineering</span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://3am.engineering/about/">About</a></li><li><a href="https://3am.engineering/works/">Works</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://3am.engineering/works/detailed-topographic-cnc-sculptures/">Ultra Detailed Topographic CNC Carvings</a></h2>

            

            <div class="post-content">
                <p><figure><img src="/images/cnc/helens_hillshade.jpg"
         alt="Mount St. Helens hillshade"/><figcaption>
            <p>Mount St. Helens hillshade</p>
        </figcaption>
</figure>

This article might get too technical in places with all the CNC, CAM, CAD, GIS terminology. To spare your time here&rsquo;s the TLDR:</p>
<h2 id="tldr">TLDR</h2>
<hr>
<p>More than 6 month ago something clicked and I got all enthusiastic about maps and topography. 2D renders were all nice and cool but real 3D topographic sculpts would really <strong>elevate</strong> the data to a higher level.</p>
<p>Turns out it&rsquo;s hard to make detailed models and there are quite a few reasons why nobody (at least documented online) seems to have a solid working process or a comercial product that isn&rsquo;t just a 2D print.</p>
<p>Months of trial and error, custom hardware and software, dozens of iterations, I finally got some results that can surpass comercial resin 3D printers.</p>
<figure><img src="/images/cnc/micro_cities.png"/>
</figure>

<h2 id="intro">Intro</h2>
<hr>
<p>Back in the fall of 2021, a few posts on HN caught my eye, they were the catalyst that started it all.</p>
<ol>
<li><a href="https://github.com/marceloprates/prettymaps">python prettymaps library</a></li>
<li><a href="https://ramblemaps.com/turning-satellite-imagery-into-wall-art">turning satellite imagery into wall art</a></li>
</ol>
<p>Turning real-world city data and topography into wall art seem like good fun at the time.</p>
<p>There are quite a lot of creators on twitter/reddit dedicated to visualizing lidar/topographical/geographical/geological data.</p>
<p>Here are some highlights of what can be done with open-source data:</p>
<figure><img src="/images/cnc/twitter_sample.jpg"/>
</figure>

<p>Source: <a href="https://twitter.com/researchremora">@researchremora</a>, <a href="https://twitter.com/geo_coe">@geo_coe</a>, <a href="https://twitter.com/geo_spatialist">@geo_spatialist</a></p>
<p>My favorite is the textureless ones. Combine high-resolution renders with a high DPI printer and you have the ultimate wall art, that&rsquo;s more or less how businesses like <a href="https://muir-way.com/">muir-way</a> and <a href="https://ramblemaps.com">ramble maps</a> operate.
While 2D prints are great, adding one more dimension would do a lot more justice to the lidar terrain scans.</p>
<h2 id="3d-prints-and-cnc-sculpts">3D Prints and CNC Sculpts</h2>
<hr>
<h4 id="resin-3d-prints">Resin 3D prints</h4>
<p>Things get messy here, both figuratively and literally, the trial and error, the post-processing, and the fact that I&rsquo;ll either end up with a sharp pixelated print or a smooth one that lacks the details that were present in the 3D model are enough to make it not the right tool for the job.</p>
<p>What are 3D printers good are overhanging and hollow strucures, the type of features impossible to execute on a 3-axis CNC machine.</p>
<p>Here&rsquo;s a perfect example of extraordinary details and voxelization/aliasing.
<figure><img src="/images/cnc/voxels.jpg"/>
</figure>
</p>
<p>Source: <a href="https://www.youtube.com/watch?v=W8pEdJNIXIk">VOG</a></p>
<p>Are these artifacts an issue or not comes down to the scale of the print and detail density, it might be an issue for what I&rsquo;m aiming for.
As for FDM printers they are automatically disqualified because of their thick layer lines and relatively massive nozzles.</p>
<h4 id="cnc-sculpts">CNC sculpts</h4>
<hr>
<p>The existing software pipelines don&rsquo;t play well with detailed and dense CNC carvings,
the resulting carvings are even less detailed than the 3D printed counterparts.</p>
<p>The first issue is the tool size typically used for CNC carvings, they&rsquo;re just too big and in conjunction with the runout of a typical spindle, it just doesn&rsquo;t make any sense to try and accurately reproduce the terrain on a small area.</p>
<p>The second issue is the software pipelines used to convert the DTM(digital terrain model) to G-code(CNC programming language).
Normally the first step is to convert the DTM to a 3D model, that&rsquo;s where some losses occur because having a 1:1 feature parity between the 3D model and the DTM is just too expensive CPU and memory-wise.</p>
<p>Here&rsquo;s a typical topographic carving workflow.

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/-e8nKcaUh9U" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>
<p>Then the conversion from a 3D model to G-code for the CNC machine takes more than one hour(using Fusion 360 and a relatively sparse on details 3D model), that&rsquo;s if the software doesn&rsquo;t crash.</p>
<p>Using the traditional tools and trying to set a record number of features per square mm is just not feasible.</p>
<h4 id="mount-st-helens">Mount St. Helens</h4>
<p>As a case study let&rsquo;s analyze a Mount St. Helens carving.
The source DTM has a resolution of 1m per pixel, respectively a 10x10km area is a 100 megapixels DTM TIFF image, to accurately represent the terrain onto a 100x100mm sculpt the machine it would need to make 10000 parallel passes with a stepover of 10 microns between passes, that&rsquo;s twice as small than the diameter of human hair.</p>
<p>Here&rsquo;s Dom Ricobene attempting Mount St. Helens at 1km = 5mm
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Micro Mount Saint Helens. Draft 3D print in ABS and finished on a CNC machine. 1 km = 5 mm. <a href="https://twitter.com/hashtag/gischat?src=hash&amp;ref_src=twsrc%5Etfw">#gischat</a> <a href="https://t.co/LrTpdrWV47">pic.twitter.com/LrTpdrWV47</a></p>&mdash; Dom Riccobene (@DomRiccobene) <a href="https://twitter.com/DomRiccobene/status/1507478442421366795?ref_src=twsrc%5Etfw">March 25, 2022</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</p>
<p>Here&rsquo;s my attempt at a similar scale (1km = 7.5mm) with custom software and hardware tools.</p>
<figure><img src="/images/cnc/helens_hd.jpg"/>
</figure>

<h2 id="the-hardware">The Hardware</h2>
<hr>
<p>Hardware is hard.</p>
<p>I did not know much about CNC machines, to learn more and get my hands dirty I got the cheapest 3018 style machine available on Aliexpress. That was a mistake, the machine&rsquo;s rigidity is maybe good enough to cut cheese slowly with any kind of accuracy and repeatability.</p>
<p>Long story short I felt like I outgrew that CNC in two weeks, and after many weeks spent analyzing its shortcoming and trying to fix them I decided to build my own.</p>
<figure><img src="/images/cnc/helens_beta.jpg"
         alt="Early Mount St. Helens cast"/><figcaption>
            <p>Early Mount St. Helens cast</p>
        </figcaption>
</figure>

<p>Started building/designing my CNC based on the open-source <a href="https://indystry.cc/indymill/">Indymill</a> but by using other types of aluminium extrusions, motors, lead screws, and 3D printed parts that should be replaced with metal ones if I ever plan to cut something hard.</p>
<p>As for electronics and control board, I used an ESP32 microcontroller and <a href="https://www.tindie.com/products/33366583/6-pack-universal-cnc-controller/">Barts 6 Pack universal CNC Controller</a> with TMC2209 drivers and Nema 17 motors, very smooth operation and plenty of torque, not that I need much to cut wax.</p>
<p>All I can write about the spindle and the cutting bits at the moment is that they&rsquo;re based on commercially available parts that were further improved/ground/customized.
Since I couldn&rsquo;t find public writings that mention any of the modifications that I&rsquo;ve done I guess I&rsquo;m into <strong>trade secrets</strong> territory, how exciting!</p>
<h2 id="the-software">The Software</h2>
<hr>
<p>Considering the issues described above it&rsquo;s clear that a custom solution is needed to convert the DEM straight to G-code.</p>
<figure><img src="/images/cnc/helens_crater.jpg"/>
</figure>

<p>The resulting unoptimized single-threaded code is fast enough to turn a 100 megapixels DEM file straight into ~1GB G-code file in under 1 minute skipping any intermediate lossy steps.</p>
<h2 id="master-model-material">Master model material</h2>
<hr>
<p>The perfect material for master models should be easily machinable, capable of holding micrometer sized details and easy to obtain.
<a href="https://www.freemansupply.com/products/machinable-media/renshape-modeling-and-styling-boards/renshape-460-medium-high-density-modeling-board">Medium-high density polyurethane modeling boards</a> are popular in the prototyping industry, but relatively unpopular with hobbyists because of their extreme prices.</p>
<figure><img src="/images/cnc/master_replica.jpg"
         alt="Plaster-resin cast and the wax master model"/><figcaption>
            <p>Plaster-resin cast and the wax master model</p>
        </figcaption>
</figure>

<p>The alternative is machinable wax, which is just a mix of paraffin wax and polyethylene (80/20 mix), arguably a much suitable prototyping material for hobbyists because of the low price and trivial recycling procedure.
The ability to be melted down and reused is the best part because as hobbyist mistakes will be made.
While the wax models don&rsquo;t look appealing because they&rsquo;re translucent and don&rsquo;t cast shadows very well, the copies are usually made in more opaque materials like polyurethane, plaster-resin compounds, or metal.</p>
<p>Engineering plastics may be an alternative, but they&rsquo;re not cheap, wood-based materials like MDF or valchromat may work for bigger scale models.</p>
<h2 id="the-results">The results</h2>
<hr>
<p>The results are ultra-detailed wax master models that can be copied with a 2 part RTV silicone, the silicone mold can be used to make plastic or plaster-resin copies of the master model.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/ElNrtGqj6EY" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Casting and mold making is another whole bucket of worms. Bubble-free castings are a challenge even for professionals.</p>
<p>As for resources to learn more about the craft here&rsquo;s the <a href="https://lcamtuf.coredump.cx/gcnc/">Guerrilla guide to CNC and resin casting</a> and <a href="https://www.youtube.com/channel/UCPA1NCFqYebL6RBW5-bnOrg">Robert Tolone</a> excelent YouTube channel that goes deep into mold making and castings parts.</p>
<h2 id="whats-next">What&rsquo;s next</h2>
<hr>
<p>Learned a lot about CNC machines, GIS tools and developed some unique CNC tools and techniques, feels like the end of a beginning, still have a few microns to chase and figure out the casting process.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
  				<p>
  					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://3am.engineering/tags/cnc">CNC</a></span><span class="tag"><a href="https://3am.engineering/tags/cad">CAD</a></span><span class="tag"><a href="https://3am.engineering/tags/topography">topography</a></span><span class="tag"><a href="https://3am.engineering/tags/python">python</a></span>
  				</p>
  			</div>

        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2023</span>
            
                <span><a href="https://3am.engineering/">3am engineering</a></span>
            
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.fbf016a5f89be88f4916a0898302f777692ee6600991c3b6108fc423ed982dc83b470742cc92dd796861136f5ca96988b35e049b5f4cb4b1343686784a58c8ce.js" integrity="sha512-&#43;/AWpfib6I9JFqCJgwL3d2ku5mAJkcO2EI/EI&#43;2YLcg7RwdCzJLdeWhhE29cqWmIs14Em19MtLE0NoZ4SljIzg=="></script>



    </body>
</html>
